[Music] [Music] what's up guys this is Ronnie welcome back to our Channel Total technology Zone this is tutorial 53 and today's topic will be very interesting and in this topic what I'll be going to do uh I'll be going to show you guys how to chat with your CSP file using Lang chain and open when I say CSP files I will develop a capability within uh front end where you will be able to upload or user will be able to upload their CSV files and after that user will be presented with a text box and inside the text box user will ask some question and on a fly uh our application will be going to send the uh request back to a lang chain agent and Lang chain agent is actually going to do all the calculation and we'll generate the response in the UI okay so basically I'll be going to develop the stream lead application or stream lead UI or web front end from there user will be able to upload their CSV file and after that user can chat with the CSV file okay so hopefully you guys will understand so it is going to be very exciting tutorial so I won't take much time for explaining this slides and Theory but uh I should uh do this part so basically what exactly we going to do so build one streamly that is the first thing then we'll develop a fun F to upload and read the CSV file then we'll develop user input to submit uh develop user input and submit button to face the user form right and last but not least we'll be going to use the langen pandas agent to answer user specific question these are the four steps I'll be going to do okay so without wasting much time let me start working with my vs code okay okay so basically uh I have created something here okay so basically this is indiia premium Indian Premier League or maybe you can call it as an IPL it's a cricket league Global cricket league which is hosted in India every year it is generally hosted by Indian U like Cricket Board uh BCCI so basically I'll be going to do some sort of like IPL data analyses you can call it okay okay so basically it has data from 2008 to 2017 so you can call it a last 10 years data and within that data I'll be going to develop some sort of capabilities okay so let's try to actually work on this thing so first thing first we'll be going to import from stream late uh sorry import stream late okay import stream l s s okay this is done I don't know why this is stream what is this okay okay this okay so uh uh first I'll be going to actually develop the UI and uh slowly slowly we'll be going to do so what else will be required so probably I think we'll be required uh import okay andas okay right so this is done okay what else uh I think um um I think we need Lang chain agent and we need Lang Lang chain open AI okay so basically let's try to actually import the Lang chain related things so basically uh okay so before we do anything let's actually uh start developing our UI first that is the most important thing okay so st. WR so basically I'm just going to give a headline okay uh maybe csb chat csb chat okay like this let's make it a little bit bigger csb chat up okay so then what we'll do we'll be just going to uh give a title so basically uh that is going to be my title actually okay right and I'll be going to give a headline so st. write and there I'll be going to write uh upload your your csb and ask anything okay so like this okay so now next thing is actually um I'll be going to create a uh variable so maybe I just create a variable upload file or maybe I just make it small like file so basically file will be what file will be st. file uploader okay it's very easy and there I'll be going to write uh select your file select your file okay and I explicitly mentioned type equals to CSP okay you can this is basically a uh list okay so I can call it CSP it is done then just to make sure whether it is uh um like whether everything is showing there or not so what I will do I'll be just going to uh display the content okay so now what is actually going to happen if file if file is not none means if file is not empty okay then what will happen uh it is actually going to create a data frame right so it should be PD do R CSP and there I'll be going to pass my file object this variable okay and then what is going to happen I just going to display it in the UI okay st. WR it is going to be very easy guys okay so like this and DF okay now what will happen now probably I'll be going to kill the terminal and I'll be just going to open a new terminal here and just look it uh look at my terminal I'll show you how to run this stream L code so basically stream lit then run then ma okay like this so it's it's it came actually so click on browse file and this is my match. CSV right so it's here and you see it is loaded so whatever we are trying to achieve it is happening so basically now just to make sure our things are clean I will just uh like uh comment this part okay cuz I don't need that part okay like this now we'll be going to develop the other module so for that now I'll be going to require couple of things so first thing from Lang chain okay so basically L chain do agents okay do agent types maybe import agent type okay then from L chain underscore experimental. agents agents do agent toolkits import create pendas data frame okay done now what is going to happen from Lang chain uncore open a okay import Chad open AI right so now what is actually required what else is required let me check I think that's it so what I'll do I'll just create our llm actually llm is actually going to be Chad open AI I'll just use the model I'll use GPT 4 okay GPT i 4 right and then I just use temperature equals to Zer done okay so now what else uh I think uh what I'll do here I'll be just going to ask uh user to enter something right so basically I'll just create user or maybe I just write input input equals to St do text area text area and I'll ask user to ask your question here okay done so now what will happen if the user input is actually not none so basically if input is not sorry none then what is actually going to happen let's see so we should uh create a button button equals to St do button right and there probably I'll be just going to write submit okay so if user input is actually not meant a button will be created submit button right then what is actually going to happen then we'll be going to check U if if submit button is pressed so basically if button if button then what is actually going to happen uh we'll be going to uh I think um uh I don't need to write any anything here because I have to just develop the agent here so basically our agent I need to develop here nothing else um um just thinking just give me a moment uh uh it button that is this thing so basically uh I think I have to create the agent here okay I have to create an agent so basically agent will be create pandas data frame agent like this uh like this so basically first I have to write the llm okay then I have to write DF or pandas data frame right then we have to mention veros veros I will just make it false because I don't want to like waste my tokens because I'm using a paid uh Edition right and agent type will be agent type will be agent type. open function agent type do so basically this is not coming I don't know why so basically to P AI functions okay that's it and basically like this okay all done now what will happen uh I'll create a variable called result okay so result is actually going to be what agent do invoke and agent will be invoked with input the input what user entered okay and after that here I'll be just going to write what um so this is done so if button okay and then St st. WR will be going to result and output okay hold done I believe this is kind of a very uh fast track mode I did it okay but it's very easy first it is checking file is there or not if it file is checking it is directly go here and ask user for an input and if input is not not it is actually going to execute the remaining part so basically I have everything here I need to just refresh the page a good thing is actually stream Leed you know it to debug or build again then just browse now see the DF data frame is not coming now ask your question everything is here so I'll ask a simple question how many themes are there write the names let's see and just because I made verus equals to false nothing will be come here but if I make it verus equals to True here uh here then all calculation will be given here you see it is able to generate there are total 15 team sunrises hyad Mumbai Indians Gujarat land Rising pun super giant etc etc everything is coming okay then so let's ask another I will ask total 4 five question so next question will be which team has own maximum number of matches so let's see it is already starting when it is doing something this portion will be hidden so see Mumbai Indian with maximum number of matches so let's what is the account let's ask this question as well okay so it's also going to give the count as well okay right so it is saying that Mumbai India known maximum number of bches is UN z9 so let's ask which team has um lost maximum number of what is the losing C okay it should be RCB like I saw some stat couple of months ago yes so the team has uh lost the maximum number of matches is Royal challenges Bangalore with a losing count of 95 matches right so let's ask a couple of more questions the three question I have asked so just hold on so yes so so City okay City Hyderabad TOS TOS decision uh toss winner TOS decision uh win by player of the match so basically I'll ask which venue has hosted okay uh okay so we I'll ask which player got maximum player of the match award okay let's ask this question okay so who got maximum player of the match Awards keep the I don't know maybe vat kohi let's see okay the player who got maximum player of the match award is Chris Gale okay so which uh let's say which last question which fenu hosted maximum matches I think maybe Chennai because every year they are reaching to the finals always they are getting some extra matches so hopefully it will be Chennai right or Mumbai okay so surprisingly it is saying Eden Gardens I don't know why I don't know yeah maybe during uh couple of years ago uh they actually restricted the value for couple of big locations so that that year maybe KKR reached to the final and they got semi-final and couple of more matches are played there so maybe because of that okay who when hosted least so let's ask the last question as well I don't know which ground this it is so it's giving some ground I don't know yeah some here actually IPL was hosted on South Africa maybe it was that ground okay okay so hope you guys understood so if you have a big file you also do the same thing but make sure that uh you should use a paid model because this sort of things are actually happening on a fly and if you're using GPT at least 3.5 turbo uh and four uh and onwards then probably you'll be going to get the best answer and also you can use the open llm uh sorry open source llm like mral uh 7 me uh model as well 7 billion parameter model as well but remember you have to use a GPU and you have to actually um do use you have to do the inference using the GPU or else uh every after every response you will get a delay so if you don't want to spend some money then actually try to try to go to hugging fix and download some model but if you have some money to actually play around and learn this thing just straight away put $10 in the open AI wallet and after that you can start using it okay okay so with that note I'll be just going to conclude the video but don't worry guys I'll be going to give you this file the source code everything and also GitHub Link in the PowerPoint slide and just a humble request it's a request uh from my uh uh uh from last one year I'm actually continuously uh regularly again I'm uploading this sort of videos for you guys and always Whenever there is a request I try to actually fulfill that request so please uh try to put some comment good or bad doesn't matter but try to put some honest feedback whether these videos are helping you or not if you want something to be done in a better way also let me know I'll try to actually improve our quality and also um the more most important part is actually guys please try to share our videos with your family and friend whoever is going to get some value out of it and also try to subscribe to our Channel or also ask your friends to subscribe to my channel your one subscription and one help is actually going to um do a lot of uh things indirectly and directly for me and it is also going to help me to grow and uh I will uh be going to get large number of audience and also my reach and YouTube discoverability will increase so it is my ultimate goal please help me guys to grow it is a request hopefully you guys will help me okay with that note I'll be just going to conclude the video over here we'll see you in the next video till then take care goodbye have a nice day and happy learning thank you than