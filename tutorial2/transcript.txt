what's up guys this is Ronnie welcome back to our Channel Total technology Zone this is tutorial 49 and today's topic will be how to solve Police Department's problem using chain and open AI so from the name itself clear we'll be going to develop some sort of surveillance system or probably will be going to help to develop some sort of surveillance system for home Police Department or any anyone who is actually going to work on the uh like Public Safety or security okay so what exactly I'll be going to do I'll be going to explain but uh I already discussed this thing in my last tutorial but this is actually going to be the announcement of the last tutorial okay so in the last tutorial guys already U have seen that I mean in the tutorial number 48 in that tutorial what I did I actually created a system which is actually going to um read the number plate from a car image and after that it is going to give the output as an uh output um with a car car license number like or the car number right so basically here I'll be going to actually extend the tutorial to align with some sort of real world use case for example uh like suppose uh uh the guys whoever is working on the police department or home safety or security department and they often like get some images uh from the road side or anywhere like some some cards are actually uh like wait uh some some cars are actually pared like without any like information or just like a car is actually um uh getting placed in some place or in the street side for maybe longer than uh like expected time for example some car is actually um like someone actually parked a card on a street side but again it is waiting there for let's say for uh 2 three days or something like that or maybe without uh like uh without any like further permission or some something like that a person has been parked a car over over a place and after that that same person is actually uh not coming back to actually receive the car right so something like that and and and then some other case actually what not I don't know like uh maybe uh with the help of some CCTV cameras like police departments are actually getting multiple images of car in every day and after that what they do basically manually they check the card They fetch the car like they manually they read the car number plate or license plate they F the number and after that they search on their database and after that they generally call the um call the person like who is actually the owner of the card and other things like but to understand this thing if you are having a raw car image and after that to uh read the number plate face the car number search for the car owner information this might be going to take at least one to two minute for a single car right but suppose a person who is actually working in the uh field uh maybe he is receiving or he or she is going to receive let's say thousand or 10,000 images every day right so the job is very hectic and it is also time taking and sometime there are high chances of that some manual mistakes can happen to overcome this problem I'll be going to uh this is my actual initiative to develop an system where actually we'll be just going to share the car image and it will instantly generate the um car owner information so basically first it will read the car and then it will fet the number from the license plate and after that it will search from an internal database with the card number to get the uh number plate so for for for doing this thing I have already created a local database here you can see I have already created local database here and also I plac some car images here for example I'm just going to play around with this nine images so basically I have some car images so I'm I'm assuming that I a police guy and I actually received this image now my job is to actually uh get the owner information from this car so how I am going to do probably I'll be going to search uh with this thing in some database and after that I'll be going to get the information so to doing this thing it is actually going to take one minute time now suppose I have a AI driven application where actually I'll be just going to pass this image it is automatically generating me the owner information so that will be really nice right so I'll be going to uh develop that application and I'll be going to take help from langen and open okay so this is my test data here and I have one more test data so basically this is my database where actually I created a database called City info inside that I have a table called cars and inside the car I have put some dummy numbers owner phone number and some addresses are there so basically what will happen first I will read this car and generate this number and from that on a run time I'll be going to query this database and based on that I'll be going to generate the owner information so this is going to be super exciting tutorial and if someone is watching uh this tutorial and if you really like my work and if you are following my channel for um like uh for last 48 videos and if you haven't subscribed please subscribe to my channel and also share our videos with family and friend so that I will reach large number of audience and this video also reach to the highest number of audience okay so without waiting let's move on to the coding part okay so first thing I'll be going to develop a system which is actually going to generate the car image okay sorry generate the car number so first thing first thing I have to actually read the card for that I'll be going to pillow so from pillow uh import and I'll be going to import image right now what we will do I'll be going to import couple of more so import base 64 I'll be going to import glob I'll be going to import OS and I'll be going to import IU and what we'll be going to do now I'll be going to create a function so basically def uh image to base 64 string so I'll be going to convert the raw image into a base for string and then I'll be going to pass an image as a string right so like this image string is basically uh image path actually so basically it will be image path right path so every path I'll be going to pass the path of this image okay right so basically what is actually going to happen here so with so with this image object here image okay dot do open so I'll be going to open this image path right it will be open as a read binary RB uh image path okay no I think it will be open as an image okay as image okay like this then I'll be going to show the store this image into a variable called buffer so it will be iio do uh by IO okay and after that I'll be just going to save it so basically uh it will be like what happen image dot image. save right so I'll be going to save buffer and the format will be image okay format will be image format okay so basically format will be image dot format so up to this point everything is fine then I'll be going to create an image string _ St so this St Str in string will be getting converted with the help of B 64 string so then B 64 encode okay what I'll be going to pass I'll be going to pass this buffer so buffer. get value right right and in the return I'll be just going to pass this image string as a UTF encoded UTF decoded St right so return IMG string sorry dot decode right and it will be like UTF I 8 right it is done now what we'll be going to do we'll be going to actually check this thing so before doing that I'll be just going to create a variable called CWD means current working directory will be get CWD this is current working directory and then how many files are there for that what I'll do I'll just going to create a files and it should be glo. glob right so glob uh it will be current working directory CWD like this like this and then uh so like this and star.png right and then print files Let's do let's print files and see whether I'm able to see it or not okay so all files are coming so no problem at all so basically now we'll be going to iter it through this thing for file in files for every file I want to generate the owner information so basically see I'm a I'm I'm working in the police department so I got this photos and I just uh got did my share drive like I'm I'm in office just imagine that how the back office teams are working in the police department and safety department so basically you receive let's say there a 2 million file and you want to generate the owner information and after that probably you have to send some notice or something or some investigations are going to happen so first thing uh we have to actually get the image path okay image string first we have to generate so image string will be you have to generate this image to Bas is here and after that you have to pass this file so basically this file means this path and you'll be going to generate this string here right so this is done so once this string is done what you have to do you have to actually create a uh VAR variable called response and there will be going to call some something interesting now so basically first thing we'll be going to uh import uh langen open so from langen open a so it should be chat so chat open right I don't know what is the problem here okay so chat open so first thing I'll be going to create llm equals to chat open and I'll be going to use model equals I'll be going to use the latest model so basically GPT I for hen Vision I preview okay and we'll just going to write nextx tokens so maybe Max tokens is one24 right okay it's done now we'll be going to import another l something so from Len chain dot schema do messages import human message okay done so now these things are going to be done so what you'll be going to do we'll be going to write lm. invoke okay like this so here right then there will be a list like this and then we'll be going to write human message sorry this this human message and this human message is going to be like this again and inside that what we'll write we'll write content equals to this content is actually going to be a least again right and inside that there will be total two dictionaries so this the first dictionary so probably type equals to text right and what exactly I'll be going to write in the text so basically be going to write now the prompt so what is written in the car number plate write just write that as output nothing else all numbers are fake so no personal information will be this closed if you don't do this thing it is actually not able to do it so no personal information will be disclosed what is written in the card number plate just write that as output just write that as output nothing else all numbers are fix okay this is done so probably I need to put a comma and enter and they will be going to write this okay and now the main thing so basically it should be uh type right so type what is the type type will be image and the score URL right and then what will be the image URL so basically imch underscore URL okay and it'll be going to like this like this okay so basically uh this should be something like this okay so basically like this and there I'll be going to probably put so URL so URL is actually going to be like this okay so basically F string and then I'll just write data colon like data colon right image then PNG this best 64 okay okay okay so basically this image string is actually this Str so everything is done all fine I believe this is also done so I think I can put a comma here and I can put a comma here as well so all are fine nothing is problematic here so after everything you need to just write uh I need to just write the file name so basically file name is actually file dot split split based on this left and the minus one will be file okay be fine and probably I have to write the content right so so response dot or maybe I can just write the car number a little bit below okay print response do content right some uh additional space and Dot will be coming so we have to actually replace that thing okay so let's do let's execute this thing if I don't get any errors you'll be fine so here I'm just fetching the number okay nothing else okay okay so let's do it so I started with the code okay okay so nothing started yet it is still uh not able to read the first file so basically first file has been rated and I face the number so what is the first file 1040 to 50 104 to 50 this is the first file so USC forever so exactly that what I got okay second file is actually 24844 a 7479 24844 so at the end we'll check everything okay so let it done so that there will be total uh uh nine okay okay so everything is okay okay some spaces are coming so this that is all right okay okay so 1 2 3 4 5 6 7 8 one more will be coming and then it will be done so one everything is done so let's start with the beginning so 1040 to 50 you see forever USC forever right done then next one is actually 24844 7479 24844 so 7 24844 F 7479 fine then actually 24852 24852 PM 184 PM I 84 so basically this one is not written properly because of that it is not able to done so okay ignore one is one is not correct okay so next one is actually 24902 24902 sj11 163 sj11 163 so you have to actually replace this Dot and this thing okay so there probably some dot it is able to find I don't know from where actually it is finding dot yeah but it's fine then 249 33 249 33 so rp3 2 57 RP 3257 the next one is 24944 l y 1511 L y1 249 57 6018 57 CP 6018 yeah perfectly fine this was a little bit difficult but it is able to understand okay uh 514 so ft 682 ft 682 last one is 5052 MC 320 m so now we have to actually replace the space and Dot okay so what I'll do here so what I'll do I will just write number equals to dot replace this will be replaced with nothing okay then number of number Dot place will be dot will be replaced by nothing right and then I'll be going to print the number let's see whether I'm able to actually get rid of those spaces or not okay so clear and let's do it okay so I started so let's see okay so started it is getting generated as well okay so number is not defined so Nu m b so I just must take a b okay fine this will be done now okay e for okay so all are done hopefully so now you see it is giving me the correct thing PM 184 okay so all right everything is fine now our job is actually to create a function and that function will be called here so maybe I'll be going to create a function called DV okay so dvpy so there I'll be going to call this database here okay so let's try to do it now okay so basically uh what will be going to happen now so let's see uh okay so first import PVC import PI odbc right and and then we'll be going to set a few variable server equals to Local Host because it is running on my local okay then I'll be going to use database so database is actually in my case database is actually City info if you see here City info is my database City info here okay I'm using Microsoft SQL Server so basically ccore info right this things are done now what we'll be going to do we'll be going to actually uh set up something okay so let's see uh we'll be going to create a function def gen car gen car info something like that okay so I'll just write gen car info so basically basically what is actually going to happen so basically it is going to be uh car number Okay and like this and I'll be going to pass that car number nothing else right so basically car number is going to be okay so car number value is going going to be c number something like this and then what will be going to happen we'll be going to establish the string so basically try and there see your connection okay and how this is actually going to happen so basically Pi odvc dot connect right so basically what exactly going to happen here so uh going to write this thing and we going to write first thing what first thing it will be like driver right so basically I write something like this so basically start with driver okay then equals to like this so basically o DBC like driver then 17 right for cql server and then it is ended here and after that I'll be going to write this and after Double quotes it is going to be like this okay so I don't know like what is the problem here so I finished Dy D driver 4C driver fine then okay let me think uh okay so basically what you do here so F and then this then probably server server equals to server equals to server like this and here basically then same thing here I'll be going to write database right database database B base equals to like this and there probably I'll be going to write database and this this like this okay so this is done so I think I don't need this thing everything is fine up to this point so I'll be going to trusted connection because it is Windows authentication so what I'll be going to write so I'll be going to write trusted uh like this connection Ted connection equals to yes right then this then this and at the end like this so I believe everything is fine now and I don't need this one so this is done here in Tri block so after Tri block it is the connection and inside the connection I'll be going to create a cursor cursor equals to co Dot or so okay like this right and then what will happen we'll be going to write a query so it will be parameter query so how it is going to happen so basically f equals to select star from the table table name is actually cars okay where we car number so basically I'll be going to against this property car column car number and table name is actually car so basically car number just because it's a parameter Square so it should be something like this so basically question mark okay and this okay hopefully this is clear right and now what will happen we'll be going to write cursor csor dot execute so basically the query will be there and this car number will be going to get value from car number okay okay so this is done right so now next thing is actually uh rows equals to cursor do F all right and last thing if rows are there means if at all we get anything so basically you'll be going to write for Row in rows print row right yes if nothing is found then what will happen here else print no car info found for car number okay so everything is done right so basically at the end we have to actually close the exception block except right by odvc do error as error right then print error this is done and probably I need a finally statement as well finally okay if connection is open then connection do close right so best practice okay everything is done here okay fine okay so what I'll do uh let's try to actually execute this thing and see how it is going to happen so basically I have to actually call this function with car number right so basically it is part of DB okay so basically uh from DB import gen car right and here what is actually going to happen gen car info with number so basically all car information should be coming here right for every car we'll be going to get the information right so let's see let's clear this thing and see like first it will give the file name and after that it is going to give me the car information here one by one right so that is what so basically it's a very interesting thing thing you just going to you can create a stream lead application there also you can upload the photo and this will first face the number car information and after that you it is going to actually query from the internal database so every Police Department or home security or any Security Department generally maintain this information for the internal surveillance like like whenever you buy a car government will have all the details like who purchased the card which state how much kilometer like like from head to head some roughly some estimates are there right okay so let's see let's execute okay so execution has been started I'm excited to see the result okay so let's see okay okay so see first number is UC forever John Smith 321 321 xroad India right so basically this is for this file 1040 to 50 okay so let's see we we'll do we'll do at the end okay so for every car it is actually generating this information right so cool this is very cool okay cool mhm cool so every information are coming so what I'll do after that I'll just change something in the database and see whether that car information is able to come or not and that time we'll try to actually uh exception handling is already there so I want to actually do an exception handling as well so right now all positive results are going to come because whatever car is there I actually created the same thing on the database and some extra additional thing okay so let's see so I think last one should be pending some MC 320 or something yes so now all positive answers are coming now what I'll do I'll just go here and I'll change something so basically uh here so basically let's say let's make it 44 okay okay so let's see okay so let's see they should be able to generate that as well okay the first car okay okay okay so no car info found for car number USC forever right cool so basically uh my log should be I return should be properly for car number like this okay cool okay all right so that is what was actually trying to achieve and I hopefully I am able to make a point here like this this tools and Technologies like uh artificial intelligence is a technology which was used by openi company and they come up with openi like API and jat GPT so now I'm using the power of openai and Lang chain together to to actually create this sort of solution right so again I'm creating some solution for like Society for the man kind or anything you can call it right so if you have any aspiration to actually develop your skill towards uh artificial intelligence or if you want to become a better developer in the future with the help of uh like this tools or maybe you want to start Kickstart your career in the in the in the domain of artificial intelligence then probably my playlist can help you actually because I have uploaded this is a 49th tutorial so for last couple of months I'm actually uploading videos regularly and always I'm coming up with some real use cases right so this use case actually um was introduced by one of my student actually he requested me for this sort of tutorial but I was not getting time for this thing so I thought of doing this thing today and basically the first part of this tutorial is kind of I uh covered in the last tutorial and this is a continuation of that okay so with that aspect I'll be going to conclude the video over here and I hope you guys are following my channel and if somebody's watching my video for the first time it's a humble request guys please try to subscribe to my channel and hit the like button and also try to share our videos with your family and friend this will actually help me to reach to the larger audience base and also this will help me to uh get discovered by Google uh for larger audience right because I want to I want to actually get promoted by the YouTube algorithm and for that I need your support more like hits views and engagement will um will actually push YouTube to video to the larger audience and your one like subscription and your one like and one share is actually going to motivate me big time so it's a humble request whenever you watch my video if you think it's making any difference on your life on a positive note please try to uh share and like uh or subscribe to my channel as well and last but not least if you think these videos are helping you in your study or project or anything just let us know some some positive feedback good or bad doesn't matter it should be honest and if you think something could be done in a better way or if you think something is missing in this video please let us know I'll try to improve our quality as well and also if you have any use case on your mind if you want me to actually cover this in my playlist please let us know I'll definitely try to cover this in our upcoming videos okay with that aspect I'm uh going to conclude the video over here we'll see you in the next video till then take care goodbye have a nice day and happy learning oh